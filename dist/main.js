(()=>{"use strict";var e,t,r,i={130:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i){for(var n=[e],o=0;o<=i;o++){var a=o/i,l=Math.pow(1-a,2)*e.x+2*(1-a)*a*t.x+Math.pow(a,2)*r.x,s=Math.pow(1-a,2)*e.y+2*(1-a)*a*t.y+Math.pow(a,2)*r.y;n.push({x:l,y:s})}return n.push(r),n}},929:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=r(981),n=r(756);t.default=function(){return window.innerHeight-((0,n.default)()+(0,i.GameFooterHeight)())}},629:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=document.getElementById("gameCanvas");t.default=r},498:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=r(221),n=r(981),o=r(756);t.default=function(e){return void 0===e&&(e=null),e=(0,i.getGameState)(),(window.innerHeight-(0,o.default)()-(0,n.GameFooterHeight)())/e.gameGrid.length}},818:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dijkstraWithCaching=t.dijkstra=void 0;var i=r(570);function n(e,t){for(var r=[],n=0,o=[[1,0],[0,1],[-1,0],[0,-1]];n<o.length;n++){var a=o[n],l={x:Math.floor(e.position.x+a[0]),y:Math.floor(e.position.y+a[1])};l.x>=0&&l.x<t[0].length&&l.y>=0&&l.y<t.length&&0===t[l.y][l.x]&&r.push(new i.default(l,e.distance+1))}return r}function o(e,t,r){for(var o=new i.default(t,0),a=new i.default(r,1/0),l=[o],s=new Set;l.length>0;){l.sort((function(e,t){return e.distance-t.distance}));var d=l.shift();if(d.position.x===a.position.x&&d.position.y===a.position.y){for(var u=[],c=d;null!=c;)u.unshift(c.position),c=c.parent;return u}var f="".concat(d.position.x,"-").concat(d.position.y);if(!s.has(f)){s.add(f);for(var h=0,y=n(d,e);h<y.length;h++){var g=y[h],v="".concat(g.position.x,"-").concat(g.position.y);s.has(v)||(g.parent=d,l.push(g))}}}return[]}t.dijkstra=o;var a={};function l(e,t){return"".concat(e.x,"-").concat(e.y,"_to_").concat(t.x,"-").concat(t.y)}t.dijkstraWithCaching=function(e,t,r){if(void 0===t||void 0===r)return[];var i=function(e,t){var r=l(e,t);return a[r]}(t,r);if(i)return i;var n=o(e,t,r);return function(e,t,r){var i=l(e,t);a[i]=r}(t,r,n),n}},740:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.displayFPS=void 0;var i=r(629),n=60,o=0,a=Date.now(),l=0,s=a;function d(){return l=Date.now(),o++,l-s>1e3&&(n=o,o=0,s=l),n}t.displayFPS=function(e){var t=d();e.fillStyle="rgba(225,225,225,0.15)",e.fillRect(i.default.width-100,0,100,50),e.fillStyle="black",e.font="20px Arial",e.fillText("FPS: ".concat(t),i.default.width-50,30)},t.default=d},981:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleFooterClick=t.OneThirdFooter=t.GameFooterHeight=t.turretSectionHeight=t.footerLevelBarHeight=t.dictionary=void 0;var i,n=r(556),o=r(929),a=r(629),l=r(756);function s(){return.25*window.innerHeight}t.dictionary=function(){return void 0===i&&(i={},fetch("https://raw.githubusercontent.com/matthewreagan/WebstersEnglishDictionary/master/dictionary.json").then((function(e){return e.json()})).then((function(e){return i=function(e){var t=Object.keys(e);!function(e){for(var t,r=e.length-1;r>0;r--){var i=Math.floor(Math.random()*(r+1));t=[e[i],e[r]],e[r]=t[0],e[i]=t[1]}}(t);var r={};return t.forEach((function(t){r[t]=e[t]})),r}(e)})).catch((function(e){return console.error("Error fetching dictionary",e)}))),i},t.footerLevelBarHeight=function(){return.15*s()},t.turretSectionHeight=function(){return.85*s()},t.GameFooterHeight=s,t.OneThirdFooter=function(){return a.default.width/3},t.default=function(e,r){var i,d;e.save(),e.translate(0,(0,l.default)()+(0,o.default)());var u=s();e.fillStyle="rgba(98,74,74,0.37)",e.fillRect(0,0,a.default.width,u),e.fillStyle="rgba(172,39,192,0.46)",e.fillRect(0,0,a.default.width,(0,t.footerLevelBarHeight)());var c=(0,t.dictionary)(),f=Object.keys(c);f.forEach((function(i,n){if(!(10<Math.abs(r.level-n+1))){var o=a.default.width/2+100*n-100*r.level,l=n+1===r.level;e.fillStyle=l?"#64c027":"#ac27c0",e.fillRect(o,0,99,(0,t.footerLevelBarHeight)()),e.fillStyle="rgb(255,255,255)",e.textAlign="center",e.textBaseline="middle",e.font="bold 14px Arial",e.fillText(i,o+50,23)}}));var h=(0,t.OneThirdFooter)();e.fillStyle=r.selectedTurret.fillStyle,e.fillRect(0,0,h,u),e.fillStyle="rgba(199,19,19,0.19)",e.fillRect(h,0,h,u),e.textAlign="center",e.textBaseline="middle",e.font="bold 14px Arial",e.fillStyle="rgb(255,255,255)",e.fillText("Wave Strength: "+r.monsters.reduce((function(e,t){return e+t.health}),0),h/2,u/5);var y=null!==(i=f[r.level-1])&&void 0!==i?i:"Loading!";e.fillText("Level name: "+y,h/2,2*u/5),function(e,t,r,i,n,o){for(var a=t.split(" "),l="",s=0;s<a.length;s++){var d=l+a[s]+" ";e.measureText(d).width>n&&s>0?(e.fillText(l,r,i),l=a[s]+" ",i+=20):l=d}e.fillText(l,r,i)}(e,null!==(d=c[y])&&void 0!==d?d:"",h/2,3*u/5,h),e.fillStyle="rgba(19,82,199,0.56)",e.fillRect(h,(0,t.footerLevelBarHeight)(),h,(0,t.turretSectionHeight)());var g=(0,n.Turret1)(n.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=g.fillStyle,e.fillRect(g.x,g.y,g.w,g.h);var v=(0,n.Turret2)(n.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=v.fillStyle,e.fillRect(v.x,v.y,v.w,v.h);var p=(0,n.Turret3)(n.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=p.fillStyle,e.fillRect(p.x,p.y,p.w,p.h);var x=(0,n.Turret4)(n.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=x.fillStyle,e.fillRect(x.x,x.y,x.w,x.h);var m=(0,n.Turret5)(n.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=m.fillStyle,e.fillRect(m.x,m.y,m.w,m.h);var T=(0,n.Turret6)(n.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=T.fillStyle,e.fillRect(T.x,T.y,T.w,T.h),e.fillStyle="rgb(157,156,156)",e.fillRect(2*h,0,h,u);var w=2*h+h/2;e.textAlign="center",e.textBaseline="middle",e.font="bold 14px Arial",e.fillStyle="rgb(255,255,255)",e.fillText("Damage: "+r.selectedTurret.damage,w,2*u/6),e.fillText("Range: "+r.selectedTurret.range,w,3*u/6),e.fillText("Cost: "+r.selectedTurret.cost,w,4*u/6),e.fillText("W: "+r.selectedTurret.w+"; H:"+r.selectedTurret.h,w,5*u/6),e.restore()},t.handleFooterClick=function(e,t){var r=t.x,i=t.y,o=s(),a=window.innerHeight-o;console.log("Clicked on the footer");var l=function(t){var o=t(n.eTurretTargetDimensionsLocation.FOOTER);return o.y+=a,r>o.x&&r<o.x+o.w&&i>o.y&&i<o.y+o.h&&(e.selectedTurret=t(n.eTurretTargetDimensionsLocation.GAME),!0)};(l(n.Turret1)||l(n.Turret2)||l(n.Turret3)||l(n.Turret4)||l(n.Turret5)||l(n.Turret6))&&console.log("Turret in footer was clicked")}},221:function(e,t,r){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setGameState=t.getGameState=t.getCanvasContext=void 0;var n=r(570),o=r(740),a=r(512),l=r(30),s=r(493),d=r(891),u=r(556),c=r(981),f=r(498),h=r(756),y=r(761),g=r(535),v=r(629),p=v.default.getContext("2d");t.getCanvasContext=function(){return p};var x=(0,d.InitialGameState)();function m(){var e,t;p.clearRect(0,0,v.default.width,v.default.height),p.save(),v.default.height=window.innerHeight,v.default.width=window.innerWidth;var r=(0,f.default)(x);(0,g.default)(p,x),(0,c.default)(p,x),p.save(),p.translate(-x.offsetX,x.offsetY+(0,h.default)()),(0,a.default)(p,x),(0,y.DrawGameTargets)(p,x),x.processedLevel<x.level&&(x.processedLevel++,x.spawners.push(new s.default(100/x.level,5*x.level)));for(var i=0,n=x.turrets;i<n.length;i++){var o=n[i];o.update(x.monsters,x),o.draw(p,x,r)}x.projectiles=null!==(e=x.projectiles.filter((function(e){return!!e.move()&&(e.draw(p,r),!0)})))&&void 0!==e?e:[],x.monsters=null!==(t=x.monsters.filter((function(e){var t=(0,f.default)(x);return!1!==e.move(x,t)&&(e.draw(p,t),!0)})))&&void 0!==t?t:[],x.spawners=x.spawners.filter((function(e){return e.update(x)})),(0,u.showTurretRadius)(p,x.mousePosition),p.restore(),x.particles=x.particles.filter((function(e){return!!e.updatePosition()&&(e.draw(p),!0)})),0===x.monsters.length&&0===x.spawners.length&&(c.dictionary.length===x.level&&alert("Congratulations, you've won!"),x.level++)}t.getGameState=function(){return x},t.setGameState=function(e){x=e},t.default=m,v.default.addEventListener("wheel",(function(e){var t;e.deltaX&&(t=e.deltaX,x.offsetX+=t,x.offsetX=Math.max(0,Math.min(x.offsetX,(0,f.default)(x)*x.gameGrid[0].length-window.innerWidth)),m()),e.deltaY&&function(e){x.offsetY+e===0&&(x.offsetY+=e,x.offsetY=Math.max(0,Math.min(x.offsetY,(0,f.default)(x)*x.gameGrid[0].length-window.innerWidth)),m())}(e.deltaY)}),{passive:!0}),v.default.addEventListener("click",(function(e){var t=v.default.getBoundingClientRect(),r=e.clientX-t.left,o=e.clientY-t.top;if(o<(0,h.default)())console.log("Clicked on the header");else{var a=(0,c.GameFooterHeight)();if(o>window.innerHeight-a)(0,c.handleFooterClick)(x,{x:r,y:o});else{var l=(0,n.getGameGridPosition)(r,o);if(l)if((0,n.isSpaceAvailable)(l.x,l.y,x.selectedTurret.w,x.selectedTurret.h,x)){var s=x.selectedTurret;if(x.energy<s.cost)return alert("Not enough energy to place a turret. Requires ("+s.cost+") energy. You have ("+x.energy+") energy."),void console.warn("Not enough energy to place a turret");x.energy-=s.cost;var d=new u.Turret(i(i({},s),{x:l.x,y:l.y,gameState:x}));x.turrets.push(d)}else console.warn("Cell is not free");else console.error("Out of bounds",r,o)}}})),document.addEventListener("keydown",(function(e){if(console.log("Keydown event",e.code),"Space"===e.code){if((0,o.default)()<30)return void console.warn("FPS is too low to continue");console.log("Spacebar was pressed"),x.level++}"playing"===x.status||(0,l.createAndShowModal)("Game Over! You "+x.status+"!",x)}),{passive:!0}),v.default.addEventListener("mousemove",(function(e){var t=v.default.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top;x.mousePosition={x:r,y:i}}))},512:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameGrid2D=void 0;var i=r(498);t.GameGrid2D=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,0,0,0,1,2,2,2,2,1,0,0,0,1,1,1,1,1,0,0,0,1,2,2,2,2,1,0,0,0,1,1,1,1,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,1,0,0,0,1,1,1,1,1,1,0,0,0,1,2,2,2,1,0,0,0,1,1,1,1,1,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,1,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,1,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,1,1,1,1,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],t.default=function(e,t){for(var r=(0,i.default)(t),n=0;n<t.gameGrid.length;n++)for(var o=0;o<t.gameGrid[n].length;o++){var a=o*r,l=n*r;switch(t.gameGrid[n][o]){case 0:e.fillStyle="rgba(98,74,74,0.37)",e.fillRect(a,l,r,r);break;case 1:e.fillStyle="#FF00FF",e.fillRect(a,l,r,r);break;case 2:e.fillStyle="#31b0c3",e.fillRect(a,l,r,r);break;case 3:e.fillStyle="#05add3",e.fillRect(a,l,r,r),e.fillStyle="#27c02a",e.beginPath(),e.arc(a+r/2,l+r/2,r/3,0,2*Math.PI),e.fill()}e.strokeStyle="rgba(15,15,15,0.23)",e.lineWidth=1,e.strokeRect(a+.5,l+.5,r-1,r-1)}}},535:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elapsedTime=t.scoreCirclePosition=t.energyCirclePosition=t.timeCirclePosition=t.waveCirclePosition=t.drawGradientCircleHeader=void 0;var i=r(756),n=r(740),o=r(629),a=r(756);function l(e,t,r,i,n,o){var a=e.createRadialGradient(t,r,.1*i,t,r,i);a.addColorStop(0,n),a.addColorStop(1,o),e.beginPath(),e.arc(t,r,i,0,2*Math.PI),e.fillStyle=a,e.fill()}t.drawGradientCircleHeader=l;var s=function(){return o.default.width/4},d=function(){return(0,a.default)()/1.8};t.waveCirclePosition=function(){return{x:s()/2,y:d(),radius:(0,i.default)()/3}},t.timeCirclePosition=function(){return{x:1.5*s(),y:d(),radius:(0,i.default)()/3}},t.energyCirclePosition=function(){return{x:2.5*s(),y:d(),radius:(0,i.default)()/3}},t.scoreCirclePosition=function(){return{x:3.5*s(),y:d(),radius:(0,i.default)()/3}};var u=-1;function c(e,t){void 0===t&&(t=!0);var r=(new Date).getTime()-e.startTime;if(r/=1e3,!1===t)return r;var i=Math.round(r);return 0==i%10&&u!==i&&(u=i,console.groupCollapsed("0 === seconds % 10",i),console.log("gameState",e),console.groupEnd()),i}function f(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e4?(e/1e3).toFixed(1)+"k":e.toString()}t.elapsedTime=c,t.default=function(e,r){var i=(0,a.default)();e.fillStyle="#444",e.fillRect(0,0,o.default.width,i),e.fillStyle="#fff",e.font="20px Arial";var s=c(r),d=(0,t.waveCirclePosition)(),u=(0,t.timeCirclePosition)(),h=(0,t.energyCirclePosition)(),y=(0,t.scoreCirclePosition)();l(e,d.x,d.y,d.radius,"rgb(255,217,200)","rgb(215,103,33)"),l(e,u.x,u.y,u.radius,"rgb(255,200,200)","rgb(255,100,100)"),l(e,h.x,h.y,h.radius,"rgb(200,255,200)","rgb(100,255,100)"),l(e,y.x,y.y,y.radius,"rgb(200,200,255)","rgb(100,100,255)"),e.fillStyle="#fff",e.font="bold 20px Arial",e.textAlign="right",e.textBaseline="middle",e.fillText("Waves",d.x-d.radius-10,d.y),e.fillText("Time",u.x-u.radius-10,u.y),e.fillText("Energy",h.x-h.radius-10,h.y),e.fillText("Score",y.x-y.radius-10,y.y),e.fillStyle="black",e.textAlign="center",e.fillText(r.level,d.x,d.y),e.fillText(s.toString(),u.x,u.y),e.fillText(f(r.energy),h.x,h.y),e.fillText(f(r.score),y.x,y.y),(0,n.displayFPS)(e)}},756:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return.1*window.innerHeight}},891:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InitialGameState=void 0;var i=r(556),n=r(761),o=r(512);t.InitialGameState=function(){return{particles:[],gameGrid:o.GameGrid2D,gameTargets:n.default,offsetX:0,offsetY:0,level:1,processedLevel:0,startTime:(new Date).getTime(),energy:0,score:0,turrets:[],monsters:[],projectiles:[],spawners:[],status:"playing",mousePosition:{x:0,y:0},selectedTurret:(0,i.Turret1)(i.eTurretTargetDimensionsLocation.GAME)}}},30:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createAndShowModal=void 0,t.createAndShowModal=function(e,t){var r=document.createElement("div"),i=document.createElement("div"),n=document.createElement("h2"),o=document.createElement("button");n.innerText=e,o.innerText="Restart Game",r.style.display="flex",r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.4)",r.style.justifyContent="center",r.style.alignItems="center",i.style.backgroundColor="white",i.style.padding="20px",i.style.borderRadius="10px",i.style.textAlign="center",i.appendChild(n),i.appendChild(o),r.appendChild(i),document.body.appendChild(r),o.addEventListener("click",(function(){t.level=1,t.processedLevel=0,t.startTime=(new Date).getTime(),t.energy=0,t.score=0,t.turrets=[],t.monsters=[],t.projectiles=[],t.spawners=[],t.status="playing",r.style.display="none"}))}},789:function(e,t,r){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=r(819),o=r(756),a=r(535),l=r(60),s=r(818),d=function(){function e(e){var t=e.x,r=e.y,i=e.gameState,n=e.speed,o=void 0===n?.2:n,a=e.health,l=void 0===a?100:a;this.isDestroyed=!1,this.path=(0,s.dijkstraWithCaching)(i.gameGrid,{x:t,y:r},i.gameTargets.find((function(e){return!1===e.destroyed}))),this.pathIndex=0,this.position={x:t,y:r},this.speed=o,this.health=l,this.startingHealth=l,this.damageDoneAndQueued=0}return e.prototype.draw=function(e,t){e.drawImage(n.default,this.position.x*t,this.position.y*t,t,t)},e.prototype.move=function(e,t){var r=this;if(this.health<=0){this.isDestroyed=!0;var n=(0,o.default)(),d={x:t*this.position.x+n,y:t*this.position.y+n},u=(0,a.energyCirclePosition)();e.particles.push(new l.default({fillStyle:"rgb(39,192,42)",start:{x:t*this.position.x+n,y:t*this.position.y+n},control:e.particles.length%2?{x:d.x,y:u.y}:{x:u.x,y:d.y},end:u,callback:function(){e.energy+=10*e.level+r.startingHealth}}));var c=(0,a.scoreCirclePosition)();return e.particles.push(new l.default({fillStyle:"rgb(172,39,192)",start:{x:t*this.position.x+n,y:t*this.position.y+n},control:e.particles.length%2?{x:d.x,y:c.y}:{x:c.x,y:d.y},end:c,callback:function(){e.score+=10*e.level+r.startingHealth}})),!1}var f=this.path[this.path.length-1];if(void 0===f)return!1;var h=e.gameTargets.find((function(e){return!1===e.destroyed&&e.x===f.x&&e.y===f.y}));if(void 0===h||this.pathIndex===this.path.length-1){console.log(h,this.pathIndex,this.path.length,this.path);var y=this.path[this.path.length-1];return e.gameTargets=e.gameTargets.map((function(e){return e.x===y.x&&e.y===y.y&&(e.destroyed=!0),e})),0===e.gameTargets.length?(console.log("game over",e.gameTargets),e.status="lost",!1):(this.pathIndex=0,this.path=(0,s.dijkstraWithCaching)(e.gameGrid,this.position,e.gameTargets.find((function(e){return!1===e.destroyed}))),!0)}var g=this.path[this.pathIndex+1],v={x:g.x-this.position.x,y:g.y-this.position.y},p=Math.sqrt(v.x*v.x+v.y*v.y);return v.x/=p,v.y/=p,this.position.x+=v.x*this.speed,this.position.y+=v.y*this.speed,Math.hypot(this.position.x-g.x,this.position.y-g.y)<this.speed&&(this.position=i({},g),this.pathIndex++),!0},e}();t.default=d},60:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=r(740),n=r(130),o=function(){function e(e){var t=e.start,r=e.control,o=e.callback,a=e.end,l=e.fillStyle,s=void 0===l?"rgb(39,192,42)":l;this.currentPosition={x:t.x,y:t.y},this.endPosition={x:a.x,y:a.y},this.speed=.5+2*Math.random(),this.size=3+2*Math.random();var d=(0,i.default)();this.arcPoints=(0,n.default)(this.currentPosition,r,this.endPosition,d<30?100/d:50),this.currentPointIndex=0,this.fillStyle=s,this.callback=o}return e.prototype.updatePosition=function(){var e;return this.currentPointIndex+=this.speed,this.currentPointIndex<this.arcPoints.length?(this.currentPosition=this.arcPoints[Math.floor(this.currentPointIndex)],!0):(null===(e=this.callback)||void 0===e||e.call(this),!1)},e.prototype.draw=function(e){e.beginPath(),e.arc(this.currentPosition.x,this.currentPosition.y,this.size,0,2*Math.PI),e.fillStyle=this.fillStyle,e.fill()},e}();t.default=o},570:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isSpaceAvailable=t.getGameGridPosition=void 0;var i=r(221),n=r(756),o=r(498);t.default=function(e,t,r){void 0===r&&(r=null),this.position=e,this.distance=t,this.parent=r},t.getGameGridPosition=function(e,t){var r=(0,i.getGameState)(),a=(0,n.default)(),l=(0,o.default)(r);t-=a+r.offsetY,e+=r.offsetX;var s=Math.floor(e/l),d=Math.floor(t/l);if(void 0!==r.gameGrid[d]&&void 0!==r.gameGrid[d][s])return{x:s,y:d}},t.isSpaceAvailable=function(e,t,r,n,o){void 0===o&&(o=(0,i.getGameState)());for(var a=0;a<n;a++)for(var l=0;l<r;l++){var s=e+l,d=t+a;if(d>=o.gameGrid.length||s>=o.gameGrid[0].length)return!1;if(2!==o.gameGrid[d][s])return!1}return!0}},67:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,i,n,o){void 0===o&&(o="rgb(211,5,5)"),this.isDestroyed=!1,this.x=e,this.y=t,this.target=r,this.speed=i,this.damage=n,r.damageDoneAndQueued+=n,this.fillStyle=o}return e.prototype.draw=function(e,t){e.beginPath(),e.arc(this.x*t,this.y*t,5,0,2*Math.PI),e.fillStyle=this.fillStyle,e.fill()},e.prototype.move=function(){if(this.isDestroyed||void 0===this.target||this.target.isDestroyed)return!1;var e=this.target.position.x-this.x,t=this.target.position.y-this.y,r=Math.sqrt(e*e+t*t);return this.x+=e/r*this.speed,this.y+=t/r*this.speed,Math.abs(this.x-this.target.position.x)<this.speed&&Math.abs(this.y-this.target.position.y)<this.speed&&this.hitTarget(),!0},e.prototype.hitTarget=function(){this.target.health-=this.damage,this.isDestroyed=!0},e}();t.default=r},493:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=r(789),n=[{x:1,y:1},{x:1,y:10},{x:1,y:11},{x:1,y:12},{x:1,y:24},{x:1,y:25},{x:1,y:34},{x:1,y:35}],o=function(){function e(e,t){this.interval=e,this.counter=0,this.amount=t}return e.prototype.update=function(e){if(0===this.amount)return!1;if(this.counter>=this.interval){this.counter=0,this.amount--;var t=n[Math.floor(Math.random()*n.length)];e.monsters.push(new i.default({health:10*e.level*(e.level/2),x:t.x,y:t.y,gameState:e}))}else this.counter++;return!0},e}();t.default=o},761:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DrawGameTargets=t.timeBonusParticleBurst=void 0;var i=r(60),n=r(535),o=r(498);t.default=[{x:60,y:17,destroyed:!1},{x:93,y:17,destroyed:!1},{x:139,y:17,destroyed:!1},{x:156,y:4,destroyed:!1},{x:169,y:4,destroyed:!1}];var a=0,l=-1;function s(e,t){a++;for(var r=(0,n.energyCirclePosition)(),l=(0,n.scoreCirclePosition)(),s=(0,o.default)(t),d=Math.max(50,2*t.level),u=0;u<d;u++)t.particles.push(new i.default({fillStyle:"rgb(39,192,42)",callback:function(){t.energy+=10*t.level},start:{x:e.x,y:e.y+9*s},control:u%2?{x:e.x+(20*Math.random()-10)*s,y:r.y+(10*Math.random()-5)*s+20*s}:{x:r.x+(20*Math.random()-10)*s,y:e.y+(10*Math.random()-5)*s+20*s},end:r})),t.particles.push(new i.default({fillStyle:"rgb(0,207,250)",callback:function(){t.score+=10*t.level},start:{x:e.x,y:e.y+9*s},control:u%2?{x:e.x+(20*Math.random()-10)*s,y:e.y+(10*Math.random()-5)*s+20*s}:{x:l.x+(20*Math.random()-10)*s,y:e.y+(10*Math.random()-5)*s+20*s},end:l}))}function d(e,t,r,i,n,o){void 0===n&&(n="rgb(172,39,192)"),void 0===o&&(o="rgba(39, 66, 66, .8)");var a=e.createRadialGradient(t,r,.5*i,t,r,i);return a.addColorStop(0,n),a.addColorStop(1,o),a}t.timeBonusParticleBurst=s,t.DrawGameTargets=function(e,t){var r=(0,o.default)(t),i=4*r,u=Date.now(),c=(0,n.elapsedTime)(t),f=l!==c&&0===c%14+a;t.gameTargets.forEach((function(n,o){var a=n.x*r-r/2,l=n.y*r,c=i/3;e.fillStyle=d(e,a,l+c,i/2,"rgb(172,39,192)","rgb(100,225,100)"),e.beginPath(),e.arc(a,l+c,i/2,0,2*Math.PI),e.fill(),n.destroyed||(l+=10*(o%2?Math.sin(.002*u):Math.cos(.002*u)),e.fillStyle=d(e,a,l,i),e.beginPath(),e.arc(a,l,i,0,2*Math.PI),e.fill(),f&&s({x:a,y:l},t))})),f&&(l=c)}},556:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showTurretRadius=t.Turret=t.Turret6=t.Turret5=t.Turret4=t.Turret3=t.Turret2=t.Turret1=t.eTurretTargetDimensionsType=t.eTurretTargetDimensionsLocation=t.eTurretTargetType=void 0;var i,n,o,a=r(498),l=r(981),s=r(221),d=r(535),u=r(570),c=r(67);!function(e){e[e.OLDEST=0]="OLDEST",e[e.NEWEST=1]="NEWEST",e[e.CLOSEST=2]="CLOSEST"}(i||(t.eTurretTargetType=i={})),function(e){e[e.GAME=0]="GAME",e[e.FOOTER=1]="FOOTER"}(n||(t.eTurretTargetDimensionsLocation=n={})),o||(t.eTurretTargetDimensionsType=o={}),t.Turret1=function(e){var t=(0,l.OneThirdFooter)(),r=e===n.GAME;return{x:t,y:(0,l.footerLevelBarHeight)()+.3*(0,l.turretSectionHeight)(),w:r?1:t/6,h:r?1:t/6,fillStyle:"rgb(172,39,192)",range:10,damage:50,cooldown:9,cost:50}},t.Turret2=function(e){var t=(0,l.OneThirdFooter)(),r=e===n.GAME;return{x:t+t/6,y:(0,l.footerLevelBarHeight)()+.3*(0,l.turretSectionHeight)(),w:r?2:t/6,h:r?2:t/6,fillStyle:"rgb(211,5,5)",range:12,damage:100,cooldown:7,cost:300}},t.Turret3=function(e){var t=(0,l.OneThirdFooter)(),r=e===n.GAME;return{x:t+2*t/6,y:(0,l.footerLevelBarHeight)()+.3*(0,l.turretSectionHeight)(),w:r?3:t/6,h:r?2:t/6,fillStyle:"rgb(192,172,39)",range:15,damage:200,cooldown:8,cost:1e3}},t.Turret4=function(e){var t=(0,l.OneThirdFooter)(),r=e===n.GAME;return{x:t+3*t/6,y:(0,l.footerLevelBarHeight)()+.3*(0,l.turretSectionHeight)(),w:r?3:t/6,h:r?3:t/6,fillStyle:"rgb(157,156,156)",range:17,damage:1e3,cooldown:20,cost:1e4}},t.Turret5=function(e){var t=(0,l.OneThirdFooter)(),r=e===n.GAME;return{x:t+4*t/6,y:(0,l.footerLevelBarHeight)()+.3*(0,l.turretSectionHeight)(),w:r?4:t/6,h:r?4:t/6,fillStyle:"rgb(0,207,250)",range:22,damage:2e3,cooldown:3,cost:4e4}},t.Turret6=function(e){var t=(0,l.OneThirdFooter)(),r=e===n.GAME;return{x:t+5*t/6,y:(0,l.footerLevelBarHeight)()+.3*(0,l.turretSectionHeight)(),w:r?5:t/6,h:r?5:t/6,fillStyle:"rgb(232,122,54)",range:30,damage:1e4,cooldown:0,cost:5e5}};var f=function(){function e(e){var t=e.x,r=e.y,n=e.fillStyle,o=e.range,a=e.cost,l=e.damage,s=e.cooldown,d=void 0===s?10:s,u=e.w,c=e.h,f=e.gameState,h=e.targetType,y=void 0===h?i.OLDEST:h;this.x=t,this.centerX=t+u/2,this.y=r,this.centerY=r+c/2,this.w=u,this.h=c;for(var g=0;g<c;g++)for(var v=0;v<u;v++){var p=t+v,x=r+g;x>=0&&x<f.gameGrid.length&&p>=0&&p<f.gameGrid[x].length&&(f.gameGrid[x][p]=3)}this.range=o,this.damage=l,this.cooldown=d,this.cost=a,this.fillStyle=n,this.targetType=y,this.timer=0}return e.prototype.normalize=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/t,y:e.y/t}},e.prototype.findTarget=function(e){var t=null,r=this.range;this.targetType===i.NEWEST&&(e=e.reverse());for(var n=0,o=e;n<o.length;n++){var a=o[n];if(!(a.startingHealth-a.damageDoneAndQueued<=0)){var l=this.centerX-a.position.x,s=this.centerY-a.position.y,d=Math.sqrt(l*l+s*s);if(d<r)switch(t=a,this.targetType){case i.CLOSEST:r=d;break;default:case i.NEWEST:case i.OLDEST:return t}}}return t},e.prototype.shoot=function(e,t){if(this.timer>=this.cooldown){var r=new c.default(this.centerX,this.centerY,e,.5,this.damage);t.projectiles.push(r),this.timer=0}},e.prototype.update=function(e,t){this.cooldown>this.timer&&this.timer++;var r=this.findTarget(e);r&&this.shoot(r,t)},e.prototype.draw=function(e,t,r){var i=this.centerX*r-r/2,n=this.centerY*r-r/2;console.log(this.centerX,this.centerY);var o=r,a=.6*r;e.fillStyle=this.fillStyle,e.beginPath(),e.ellipse(i+o/2,n+a,o/2,a/2,0,0,2*Math.PI),e.fill(),e.fillStyle=this.fillStyle,e.fillRect(i,n,o,a);var l,s=(l=(0,d.elapsedTime)(t,!1)*(2*Math.PI/5),(Math.sin(l)+1)/2);e.fillStyle="rgba(0,0,225, ".concat(s,")");var u=.3*r;e.beginPath(),e.arc(i+o/2,n,u,0,2*Math.PI),e.fill()},e}();t.Turret=f,t.showTurretRadius=function(e,t){var r=(0,s.getGameState)(),i=t.x,n=t.y,o=(0,u.getGameGridPosition)(i,n);if(void 0!==o){var l=o.x,d=o.y,c=(0,a.default)(r),f=r.selectedTurret;if((0,u.isSpaceAvailable)(l,d,f.w,f.h,r)){var h=f.range*c,y=l*c+f.w*c/2,g=d*c+f.h*c/2;e.beginPath(),e.arc(y,g,h,0,2*Math.PI,!1),e.fillStyle="rgba(255, 0, 0, 0.15)",e.fill(),e.strokeStyle="red",e.strokeRect(l*c,d*c,f.w*c,f.h*c)}}}},819:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r,i,n=new Image;n.src="data:image/svg+xml;base64,"+btoa((void 0===r&&(r="rgb(134,30,30)"),void 0===i&&(i="rgb(0,191,255)"),'\n<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">\n      <stop offset="0%" style="stop-color: '.concat(r,';stop-opacity:1" />\n      <stop offset="100%" style="stop-color: ').concat(i,';stop-opacity:1" />\n    </linearGradient>\n  </defs>\n  <polygon points="20,0 40,20 20,40 0,20" fill="url(#grad1)" stroke="blue" stroke-width="2"/>\n  <path d="M 0 20 L 20 0 L 40 20 L 20 40 Z" fill="none" stroke="black" stroke-width="1" opacity="0.5"/>\n</svg>'))),t.default=n}},n={};e=function e(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}};return i[t].call(o.exports,o,o.exports,e),o.exports}(221),t=1e3/35,r=0,requestAnimationFrame((function i(n){requestAnimationFrame(i);var o=n-(r=r||n);o>t&&(r=n-o%t,(0,e.default)())}))})();