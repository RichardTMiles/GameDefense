(()=>{"use strict";var e={881:function(e,t,r){var a,n=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(999),i=function(e){function t(t){var r=t.message,a=t.seconds,n=t.gameState,o=t.callback,i=t.fillStyle,l=void 0===i?"rgb(255, 0, 0)":i,s=e.call(this,{gameState:n})||this;return s.alertBoxVisible=!0,s.startTime=0,s.message=r,s.seconds=a,s.fillStyle=l,s.callback=o,s}return n(t,e),t.prototype.move=function(){return 0===this.startTime&&(this.startTime=this.gameState.elapsedTime),this.alertBoxVisible},t.prototype.draw=function(){var e=this.gameState.context;if(this.alertBoxVisible){var t=this.gameState.elapsedTime-this.startTime,r=e.canvas.width,a=e.canvas.height,n=r/1.2,i=a/12,l=(r-n)/2,s=(a-i)/2,c=this.seconds,u=Math.max(1-t/c,0);e.fillStyle="rgba(0, 0, 0, ".concat(.2*u,")"),e.fillRect(l,s,n,i);var f=(0,o.default)(this.fillStyle,u);e.strokeStyle=f,e.lineWidth=3,e.strokeRect(l,s,n,i),e.textAlign="center",e.textBaseline="middle",e.font="4em Arial bold",e.fillStyle=f,e.fillText(this.message,r/2,a/2,.9*n),t>=this.seconds&&(this.callback&&this.callback(),this.alertBoxVisible=!1)}},t}(r(336).default);t.default=i},130:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a){for(var n=[e],o=0;o<=a;o++){var i=o/a,l=Math.pow(1-i,2)*e.x+2*(1-i)*i*t.x+Math.pow(i,2)*r.x,s=Math.pow(1-i,2)*e.y+2*(1-i)*i*t.y+Math.pow(i,2)*r.y;n.push({x:l,y:s})}return n.push(r),n}},929:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(629),n=r(981),o=r(756);t.default=function(){return a.default.height-((0,o.default)()+(0,n.GameFooterHeight)())}},629:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=document.getElementById("gameCanvas");t.default=r},498:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameBodyHeight=void 0;var a=r(981),n=r(756);t.GameBodyHeight=function(){return window.innerHeight-((0,n.default)()+(0,a.GameFooterHeight)())},t.default=function(e){var t=!1===e.switchXY?(e.context.canvas.height-(0,n.default)()-(0,a.GameFooterHeight)())/e.gameGrid.length:e.context.canvas.width/e.gameGrid[0].length;return e.cellSize=t,t}},974:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.dictionary=void 0,t.dictionary=function(){return void 0===r&&(r={},fetch("https://raw.githubusercontent.com/matthewreagan/WebstersEnglishDictionary/master/dictionary.json").then((function(e){return e.json()})).then((function(e){return r=function(e){var t=Object.keys(e);!function(e){for(var t,r=e.length-1;r>0;r--){var a=Math.floor(Math.random()*(r+1));t=[e[a],e[r]],e[r]=t[0],e[a]=t[1]}}(t);var r={};return t.forEach((function(t){r[t]=e[t]})),r}(e)})).catch((function(e){return console.error("Error fetching dictionary",e)}))),r}},818:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dijkstraWithCaching=t.dijkstra=void 0;var a=r(570);function n(e,t){for(var r=[],n=0,o=[[1,0],[0,1],[-1,0],[0,-1]];n<o.length;n++){var i=o[n],l={x:Math.floor(e.position.x+i[0]),y:Math.floor(e.position.y+i[1])};l.x>=0&&l.x<t[0].length&&l.y>=0&&l.y<t.length&&0===t[l.y][l.x]&&r.push(new a.default(l,e.distance+1))}return r}function o(e,t,r){for(var o=new a.default(t,0),i=new a.default(r,1/0),l=[o],s=new Set;l.length>0;){l.sort((function(e,t){return e.distance-t.distance}));var c=l.shift();if(c.position.x===i.position.x&&c.position.y===i.position.y){for(var u=[],f=c;null!=f;)u.unshift(f.position),f=f.parent;return u}var d="".concat(c.position.x,"-").concat(c.position.y);if(!s.has(d)){s.add(d);for(var h=0,p=n(c,e);h<p.length;h++){var g=p[h],y="".concat(g.position.x,"-").concat(g.position.y);s.has(y)||(g.parent=c,l.push(g))}}}return[]}t.dijkstra=o;var i={};function l(e,t){return"".concat(e.x,"-").concat(e.y,"_to_").concat(t.x,"-").concat(t.y)}t.dijkstraWithCaching=function(e,t,r){if(void 0===t||void 0===r)return[];var a=function(e,t){var r=l(e,t);return i[r]}(t,r);if(a)return a;var n=o(e,t,r);return function(e,t,r){var a=l(e,t);i[a]=r}(t,r,n),n}},336:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleIEntity=void 0;var a=r(821),n=r(7),o=function(){function e(e){var t=e.x,r=void 0===t?0:t,a=e.y,o=void 0===a?0:a,i=e.gameState,l=void 0===i?(0,n.getGameState)():i;this.x=r,this.y=o,this.gameState=l}return e.prototype.switchXY=function(){var e=this.gameState,t=(e.switchXY?a.rotatePoint90CounterClockwise:a.rotatePoint90Clockwise)(e,this.x,this.y),r=t.x,n=t.y;this.x=r,this.y=n},e}();t.default=o,t.handleIEntity=function(e){return!!e.move()&&(e.draw(),!0)}},740:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.displayFPS=void 0;var a=r(629),n=60,o=0,i=Date.now(),l=0,s=i;function c(){return l=Date.now(),o++,l-s>1e3&&(n=o,o=0,s=l),n}t.displayFPS=function(e){var t=c();e.fillStyle="rgba(225,225,225,0.15)",e.fillRect(a.default.width-100,0,100,50),e.fillStyle="black",e.font="20px Arial",e.fillText("FPS: ".concat(t),a.default.width-50,30)},t.default=c},981:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleFooterClick=t.OneHalfFooter=t.OneThirdFooter=t.GameFooterHeight=t.turretSectionHeight=t.footerLevelBarHeight=void 0;var a=r(974),n=r(535),o=r(664),i=r(929),l=r(629),s=r(756);function c(){return.25*l.default.height}t.footerLevelBarHeight=function(){return.5*c()},t.turretSectionHeight=function(){return.5*c()},t.GameFooterHeight=c,t.OneThirdFooter=function(){return l.default.width/3},t.OneHalfFooter=function(){return l.default.width/2},t.default=function(e,r){var u,f;e.save(),e.translate(0,(0,s.default)()+(0,i.default)());var d=c();e.fillStyle="rgba(98,74,74,0.37)",e.fillRect(0,0,l.default.width,d),e.fillStyle="rgba(172,39,192,0.46)",e.fillRect(0,0,l.default.width,(0,t.footerLevelBarHeight)());var h=(0,a.dictionary)(),p=Object.keys(h),g=(0,t.footerLevelBarHeight)(),y=(0,t.OneThirdFooter)(),v=(0,t.OneHalfFooter)();e.textAlign="center",e.textBaseline="middle",e.font="bold 1.5em Arial",p.forEach((function(t,a){if(!(10<Math.abs(r.level-a+1))){var n=y/2*a-y/2*(r.level-1),o=a+1===r.level;e.fillStyle=o?"#64c027":"#ac27c0",e.fillRect(n,0,l.default.width/6,g),e.fillStyle="rgb(255,255,255)",e.fillText(t,n+l.default.width/12,g/2,l.default.width/6-l.default.width/6*.1)}}));var m=null!==(u=r.hoveredTurret)&&void 0!==u?u:r.selectedTurret;e.textAlign="center",e.textBaseline="middle",e.font="bold 1.5em Arial",e.fillStyle=m.fillStyle,e.fillRect(v,0,v,g),e.fillStyle="rgb(255,255,255)",null!==(f=m.level)&&void 0!==f||(m.level=1);var x=m.upgrades[m.level-1];e.fillText("Cost: "+(0,n.formatNumber)(m.cost)+"; Damage: "+(0,n.formatNumber)(m.damage)+"; Range: "+m.range+"; Speed: "+m.speed+"; Cooldown: "+m.cooldown+"; W: "+m.w+"; H: "+m.h+"; Level: "+m.level,v+v/2,.25*g,v-.1*v),void 0!==x&&e.fillText("Upgrade = { Cost "+(0,n.formatNumber)(x.cost)+", Damage "+(0,n.formatNumber)(x.damage)+", Range "+x.range+", Speed "+x.speed+", Cooldown "+x.cooldown+" }",v+v/2,.75*g,v-.1*v);var w=(0,o.Turret1)(o.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=w.fillStyle,e.fillRect(w.x,w.y,w.w,w.h);var S=(0,o.Turret2)(o.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=S.fillStyle,e.fillRect(S.x,S.y,S.w,S.h);var b=(0,o.Turret3)(o.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=b.fillStyle,e.fillRect(b.x,b.y,b.w,b.h);var T=(0,o.Turret4)(o.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=T.fillStyle,e.fillRect(T.x,T.y,T.w,T.h);var _=(0,o.Turret5)(o.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=_.fillStyle,e.fillRect(_.x,_.y,_.w,_.h);var M=(0,o.Turret6)(o.eTurretTargetDimensionsLocation.FOOTER);e.fillStyle=M.fillStyle,e.fillRect(M.x,M.y,M.w,M.h),e.restore()},t.handleFooterClick=function(e,t){var r=t.x,a=t.y,n=c(),i=window.innerHeight-n;console.log("Clicked on the footer");var l=function(t){var n=t(o.eTurretTargetDimensionsLocation.FOOTER);return n.y+=i,r>n.x&&r<n.x+n.w&&a>n.y&&a<n.y+n.h&&(e.selectedTurret=t(o.eTurretTargetDimensionsLocation.GAME),!0)};(l(o.Turret1)||l(o.Turret2)||l(o.Turret3)||l(o.Turret4)||l(o.Turret5)||l(o.Turret6))&&console.log("Turret in footer was clicked")}},7:function(e,t,r){var a=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))((function(n,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,a,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(r=1,a&&(n=2&l[0]?a.return:l[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;switch(a=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){i.label=l[1];break}if(6===l[0]&&i.label<n[1]){i.label=n[1],n=l;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(l);break}n[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getGameState=t.startNewGame=void 0;var o=r(244),i=r(881),l=r(629),s=r(336),c=r(981),u=r(740),f=r(512),d=r(535),h=r(756),p=r(891),g=r(714),y=r(30),v=r(956),m=r(623),x=r(493),w=r(316),S=r(821),b=l.default.getContext("2d"),T=(0,p.InitialGameState)(b);t.startNewGame=function(){(T=(0,p.InitialGameState)(b)).gameDisplayState=p.eGameDisplayState.GAME},t.getGameState=function(){return T},t.default=function(){return a(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:switch((0,S.updateDimensions)(T),T.gameDisplayState){case p.eGameDisplayState.PAUSED:return[3,2];case p.eGameDisplayState.MAIN_MENU:return[3,6];case p.eGameDisplayState.GAME_OVER:return[3,7];case p.eGameDisplayState.GAME:return[3,11]}return[3,1];case 1:return console.error("Unknown game display state",T.gameDisplayState),[2];case 2:console.log("Game is paused"),e.label=3;case 3:return T.gameDisplayState!==p.eGameDisplayState.PAUSED?[3,5]:[4,new Promise((function(e){return setTimeout(e,1e3)}))];case 4:return e.sent(),[3,3];case 5:return[2];case 6:return(0,g.default)(T),[2];case 7:console.log("Game over"),(0,y.createAndShowModal)("Game Over! You "+T.status+"!",T),e.label=8;case 8:return T.gameDisplayState!==p.eGameDisplayState.GAME_OVER?[3,10]:[4,new Promise((function(e){return setTimeout(e,1e3)}))];case 9:return e.sent(),[3,8];case 10:return[2];case 11:return function(){var e,t;T.ticks++,b.clearRect(0,0,l.default.width,l.default.height),b.save(),(0,d.elapsedTime)(T,!1),(0,w.default)(T),b.save(),b.translate(-T.offsetX,T.offsetY+(0,h.default)()),(0,f.default)(b,T),T.gameTargets.forEach((function(e){return(0,s.handleIEntity)(e)})),T.processedLevel<T.level&&(T.processedLevel++,T.spawners.push(new x.default(0==T.level%10?{interval:0,amount:Math.min(T.level/2,10),speed:T.level/10*.01,health:1e3*T.level}:{interval:100/T.level,amount:5*T.level,speed:.2+2e-4*T.level,health:100*T.level*(T.level/2)}))),T.spawners=T.spawners.filter((function(e){return e.update(T)})),T.turrets.forEach((function(e){return(0,s.handleIEntity)(e)})),T.turrets.forEach((function(e){return e.showLevelColor()})),T.projectiles=null!==(e=T.projectiles.filter((function(e){return(0,s.handleIEntity)(e)})))&&void 0!==e?e:[],T.monsters=null!==(t=T.monsters.filter((function(e){return(0,s.handleIEntity)(e)})))&&void 0!==t?t:[],T.alerts=T.alerts.filter((function(e){return(0,s.handleIEntity)(e)})),(0,m.default)(b,T.mousePosition),b.restore(),(0,d.default)(b,T),(0,c.default)(b,T),T.particles=T.particles.filter((function(e){return(0,s.handleIEntity)(e)})),0===T.gameTargets.length&&(T.gameDisplayState=p.eGameDisplayState.GAME_OVER),0===T.monsters.length&&0===T.spawners.length&&0===T.particles.length&&0===T.projectiles.length&&(100===T.level&&(T.alerts.push(new i.default({message:"WINNER! You have completed 100 levels! Leaderboards coming soon :) How far can you go?",seconds:10,gameState:T})),console.log(T)),T.level++)}(),[2]}}))}))},l.default.addEventListener("wheel",(function(e){T.gameDisplayState===p.eGameDisplayState.GAME&&(e.deltaX&&(0,v.scrollGridX)(e.deltaX),e.deltaY&&(0,v.scrollGridY)(-e.deltaY))}),{passive:!0}),document.addEventListener("keydown",(function(e){if(T.gameDisplayState===p.eGameDisplayState.GAME&&(console.log("Keydown event",e.code,T),"Space"===e.code)){if((0,u.default)()<30)return console.warn("FPS is too low to continue"),void T.alerts.push(new i.default({message:"Your FPS being < 30 is too low to continue",seconds:5}));if(100===T.level)return void T.alerts.push(new i.default({message:"You are on the final level! Finish this wave to see what your winning score is!",seconds:5,fillStyle:"rgb(172,39,192)",gameState:T}));T.level++,T.alerts.push(new i.default({message:"The space bar was pressed! Spawning wave ("+T.level+") early!",seconds:5,fillStyle:"rgb(0, 255, 0)"}))}}),{passive:!0}),(0,o.default)()},337:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),r=Math.floor(256*Math.random()),a=Math.round(1*Math.random()*100)/100;return"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(a,")")}},512:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCenterOf5x5GridOf0s=t.GameGrid2D=void 0;var a=r(929),n=r(498);t.GameGrid2D=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,0,0,0,1,2,2,2,2,1,0,0,0,1,1,1,1,1,0,0,0,1,2,2,2,2,1,0,0,0,1,1,1,1,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,1,0,0,0,1,1,1,1,1,1,0,0,0,1,2,2,2,1,0,0,0,1,1,1,1,1,1,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,1,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,1,2,2,2,2,1,1,1,1,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,1,1,1,1,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],t.isCenterOf5x5GridOf0s=function(e,t,r){if(t-2<0||t+2>=r.length||e-2<0||e+2>=r[0].length)return!1;for(var a=t-2;a<=t+2;a++)for(var n=e-2;n<=e+2;n++)if(0!==r[a][n])return!1;return console.log("isCenterOf5x5GridOf0s",e,t),!0},t.default=function(e,t){e.fillStyle="rgb(0,0,0)";var r=(0,n.default)(t);e.fillRect(0,0,t.gameGrid[0].length*r,(0,a.default)());for(var o=0;o<t.gameGrid.length;o++)for(var i=0;i<t.gameGrid[o].length;i++){var l=i*r,s=o*r;switch(t.gameGrid[o][i]){case 0:e.fillStyle="rgba(98,74,74,0.37)",e.fillRect(l,s,r,r);break;case 1:e.fillStyle="#FF00FF",e.fillRect(l,s,r,r);break;case 2:e.fillStyle="#31b0c3",e.fillRect(l,s,r,r);break;default:e.fillStyle="#05add3",e.fillRect(l,s,r,r),e.fillStyle="#27c02a",e.beginPath(),e.arc(l+r/2,s+r/2,r/3,0,2*Math.PI),e.fill()}e.strokeStyle="rgba(15,15,15,0.23)",e.lineWidth=1,e.strokeRect(l+.5,s+.5,r-1,r-1)}}},535:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatNumber=t.elapsedTime=t.scoreCirclePosition=t.energyCirclePosition=t.loopCirclePosition=t.timeCirclePosition=t.activeEnemyHealthCirclePosition=t.waveCirclePosition=t.drawGradientCircleHeader=void 0;var a=r(7),n=r(740),o=r(629),i=r(756);function l(e,t,r,a,n,o){var i=e.createRadialGradient(t,r,.1*a,t,r,a);i.addColorStop(0,n),i.addColorStop(1,o),e.beginPath(),e.arc(t,r,a,0,2*Math.PI),e.fillStyle=i,e.fill()}t.drawGradientCircleHeader=l;var s=function(){return o.default.width/12};t.waveCirclePosition=function(){return{x:s(),y:(0,i.default)()/2}},t.activeEnemyHealthCirclePosition=function(){return{x:3*s(),y:(0,i.default)()/2}},t.timeCirclePosition=function(){return{x:5*s(),y:(0,i.default)()/2}},t.loopCirclePosition=function(){return{x:7*s(),y:(0,i.default)()/2}},t.energyCirclePosition=function(){return{x:9*s(),y:(0,i.default)()/2}},t.scoreCirclePosition=function(){return{x:11*s(),y:(0,i.default)()/2}};var c=-1;function u(e,t){void 0===e&&(e=(0,a.getGameState)()),void 0===t&&(t=!0);var r=(new Date).getTime()-e.startTime;r/=1e3,e.elapsedTime=r;var n=Math.round(r);return 0==n%10&&c!==n&&(c=n,console.groupCollapsed("0 === seconds % 10",n),console.log("gameState",e),console.groupEnd()),e.elapsedTimeSeconds=n,!1===t?r:n}function f(e){return e>=1e15?(e/1e15).toFixed(1)+"Q":e>=1e12?(e/1e12).toFixed(1)+"T":e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}t.elapsedTime=u,t.formatNumber=f,t.default=function(e,r){var a=(0,i.default)();e.fillStyle="rgba(96,6,96,0.9)",e.fillRect(0,0,o.default.width,a),e.fillStyle="#fff",e.font="2em Arial";var s=u(r),c=(0,t.waveCirclePosition)(),d=(0,t.timeCirclePosition)(),h=(0,t.loopCirclePosition)(),p=(0,t.energyCirclePosition)(),g=(0,t.scoreCirclePosition)(),y=(0,t.activeEnemyHealthCirclePosition)(),v=c.y,m=g.y+g.y/2;e.textAlign="center",l(e,p.x,p.y,v,"rgba(255,255,255,0)","rgb(172,39,192)"),e.fillStyle="rgba(255,255,255, .5)",e.fillText(f(r.energy),p.x,p.y,v),e.fillText("Energy",p.x,m,v),l(e,c.x,c.y,v,"rgba(255,255,255,0)","rgba(215,103,33,0.62)"),e.fillStyle="rgba(255,255,255, .5)",e.fillText("Wave",c.x,m,v),e.fillText(r.level.toString(),c.x,c.y,v),l(e,g.x,g.y,v,"rgba(255,255,255,0)","rgb(37,108,38)"),e.fillStyle="rgba(255,255,255, .5)",e.fillText("Score",g.x,m,v),e.fillText(f(r.score),g.x,g.y,v),l(e,d.x,d.y,v,"rgba(255,255,255,0)","rgba(0,0,0,0.37)"),e.fillStyle="rgba(255,255,255, .5)",e.fillText("Time",d.x,m,v),e.fillText(f(s),d.x,d.y,v),l(e,h.x,h.y,v,"rgba(255,255,255,0)","rgb(33,161,189)"),e.fillStyle="rgba(255,255,255, .5)",e.fillText("Loops",h.x,m,v),e.fillText(f(r.ticks),h.x,h.y,v),l(e,y.x,y.y,v,"rgba(255,255,255,0)","rgba(100,255,214,0.55)"),e.fillStyle="rgba(255,255,255, .5)",e.fillText("Strength",y.x,m,v),e.fillText(f(r.monsters.reduce((function(e,t){return e+t.health}),0)),y.x,y.y,v),(0,n.displayFPS)(e)}},756:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(629);t.default=function(){return.1*a.default.height}},891:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InitialGameState=t.eGameDisplayState=void 0;var a,n=r(761),o=r(821),i=r(664),l=r(512);!function(e){e[e.MAIN_MENU=0]="MAIN_MENU",e[e.GAME=1]="GAME",e[e.GAME_OVER=2]="GAME_OVER",e[e.PAUSED=3]="PAUSED"}(a||(t.eGameDisplayState=a={})),t.InitialGameState=function(e){var t={gameDisplayState:a.MAIN_MENU,tutorial:{welcome:!1,spaceBar:!1},ticks:0,context:e,elapsedTime:0,elapsedTimeSeconds:0,cellSize:0,alerts:[],particles:[],switchXY:!1,gameGrid:l.GameGrid2D,gameTargets:[],spawnLocations:[],offsetX:0,offsetY:0,level:1,processedLevel:0,startTime:(new Date).getTime(),energy:0,score:0,turrets:[],monsters:[],projectiles:[],spawners:[],status:"playing",mousePosition:{x:0,y:0},selectedTurret:(0,i.Turret1)(i.eTurretTargetDimensionsLocation.GAME),hoveredTurret:null};(0,o.updateDimensions)(t);for(var r=t.gameGrid.length,s=t.gameGrid[0].length,c=0;c<r;c++)for(var u=0;u<s;u++)0!==u&&s-1!==u&&0!==c&&r-1!==c||0!==t.gameGrid[c][u]||t.spawnLocations.push({x:u,y:c}),(0,l.isCenterOf5x5GridOf0s)(u,c,t.gameGrid)&&t.gameTargets.push(new n.default({x:u,y:c,gameState:t}));return t.gameTargets=t.gameTargets.sort((function(e,r){return t.spawnLocations.reduce((function(t,r){return t+Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}),0)-t.spawnLocations.reduce((function(e,t){return e+Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}),0)})),t}},714:(e,t,r)=>{var a;Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(337),i=r(60),l=r(336),s=r(629),c=r(7),u=r(891);!function(e){e[e.START_GAME_DEFENSE=0]="START_GAME_DEFENSE",e[e.TUTORIAL=1]="TUTORIAL",e[e.SOURCE_CODE=2]="SOURCE_CODE",e[e.ISSUES=3]="ISSUES"}(n||(n={}));var f=((a={})[n.START_GAME_DEFENSE]="Play Game Defense",a[n.TUTORIAL]="Tutorial",a[n.SOURCE_CODE]="Source Code",a[n.ISSUES]="Report Issue",a);function d(e){var t=Object.values(f),r=(e.height-50*t.length)/2;return t.map((function(t,a){var n=r+50*a;return{text:t,x:e.width/2-100,y:n,width:200,height:50}}))}function h(e,t,r){return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height}var p=null;function g(e,t){var r=t.context.canvas,a=d(r),n=r.getBoundingClientRect();return{mouseX:e.clientX-n.left,mouseY:e.clientY-n.top,menuItems:a}}t.default=function(e){var t=e.context,r=t.canvas,a=d(r);t.font="24px Arial",t.textAlign="center",e.particles=e.particles.filter((function(e){return(0,l.handleIEntity)(e)})),a.forEach((function(a){if(Math.random()>.9){var n=a.x+a.width/2,l=a.y+a.height/2,s=Math.random()*r.width,c=Math.random()*r.height;e.particles.push(new i.default({start:{x:n,y:l},control:Math.random()>.5?{x:n,y:c}:{x:s,y:l},end:{x:s,y:c},fillStyle:(0,o.default)(),gameState:e}))}t.fillStyle=a.text===p?"red":"white",t.fillText(a.text,a.x+a.width/2,a.y+a.height/2)}))};var y=function(e){var t=(0,c.getGameState)();if(t.gameDisplayState===u.eGameDisplayState.MAIN_MENU){var r=g(e,t),a=r.mouseX,o=r.mouseY,i=r.menuItems;i.forEach((function(e){if(h(a,o,e))switch(console.log("".concat(e.text," was clicked "),i[n.START_GAME_DEFENSE]),e.text){case i[n.START_GAME_DEFENSE].text:(0,c.startNewGame)(),s.default.removeEventListener("click",y);break;case i[n.SOURCE_CODE].text:window.open("https://github.com/RichardTMiles/GameDefense","_blank");break;case i[n.ISSUES].text:window.open("https://github.com/RichardTMiles/GameDefense/issues","_blank");break;case i[n.TUTORIAL].text:window.open("https://github.com/RichardTMiles/GameDefense/blob/main/README.md","_blank")}}))}};s.default.addEventListener("click",y),s.default.addEventListener("mousemove",(function(e){var t=(0,c.getGameState)();if(t.gameDisplayState===u.eGameDisplayState.MAIN_MENU){var r=g(e,t),a=r.mouseX,n=r.mouseY,o=r.menuItems;p=null,o.forEach((function(e){h(a,n,e)&&(p=e.text)}))}}))},626:function(e,t){var r=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.rotateMatrix90CounterClockwise=t.rotateMatrix90Clockwise=t.transpose=void 0,t.transpose=function(e){for(var t=e.length,r=e[0].length,a=Array.from({length:r},(function(){return Array(t).fill(0)})),n=0;n<t;n++)for(var o=0;o<r;o++)a[o][n]=e[n][o];return a},t.rotateMatrix90Clockwise=function(e){return e[0].map((function(t,r){return e.map((function(e){return e[r]}))})).map((function(e){return e.reverse()}))},t.rotateMatrix90CounterClockwise=function(e){var t=e.map((function(e){return r([],e,!0).reverse()}));return t[0].map((function(e,r){return t.map((function(e){return e[r]}))}))}},30:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createAndShowModal=void 0;var a=r(7);t.createAndShowModal=function(e,t){var r=document.createElement("div"),n=document.createElement("div"),o=document.createElement("h2"),i=document.createElement("button");o.innerText=e,i.innerText="Restart Game",r.style.display="flex",r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.4)",r.style.justifyContent="center",r.style.alignItems="center",n.style.backgroundColor="white",n.style.padding="20px",n.style.borderRadius="10px",n.style.textAlign="center",n.appendChild(o),n.appendChild(i),r.appendChild(n),document.body.appendChild(r),i.addEventListener("click",(function(){(0,a.startNewGame)()}))}},789:function(e,t,r){var a,n=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(336),l=r(819),s=r(756),c=r(535),u=r(60),f=r(818),d=function(e){function t(t){var r=t.x,a=t.y,n=t.gameState,o=t.speed,i=void 0===o?.2:o,l=t.health,s=void 0===l?100:l,c=e.call(this,{x:r,y:a,gameState:n})||this;return c.isDestroyed=!1,c.cellSize=0,c.getPath(),c.speed=i,c.health=s,c.startingHealth=s,c.damageDoneAndQueued=0,c}return n(t,e),t.prototype.getPath=function(){this.path=(0,f.dijkstraWithCaching)(this.gameState.gameGrid,{x:this.x,y:this.y},this.gameState.gameTargets.find((function(e){return!1===e.destroyed}))),this.pathIndex=0,this.position={x:this.x,y:this.y}},t.prototype.switchXY=function(){this.x=this.position.x,this.y=this.position.y,e.prototype.switchXY.call(this),this.getPath()},t.prototype.draw=function(){this.gameState.context.drawImage(l.default,this.position.x*this.cellSize,this.position.y*this.cellSize,this.cellSize,this.cellSize)},t.prototype.move=function(){var e=this,t=this.gameState,r=t.cellSize;if(this.cellSize=r,this.health<=0){this.isDestroyed=!0;var a=(0,s.default)(),n={x:r*this.position.x,y:r*this.position.y+a},i=(0,c.energyCirclePosition)();t.particles.push(new u.default({fillStyle:"rgb(39,192,42)",start:n,control:t.particles.length%2?{x:n.x,y:i.y}:{x:i.x,y:n.y},end:i,callback:function(){t.energy+=10*t.level+e.startingHealth}}));var l=(0,c.scoreCirclePosition)();return t.particles.push(new u.default({fillStyle:"rgb(172,39,192)",start:n,control:t.particles.length%2?{x:n.x,y:l.y}:{x:l.x,y:n.y},end:l,callback:function(){t.score+=10*t.level+e.startingHealth}})),!1}var d=this.path[this.path.length-1];if(void 0===d)return!1;var h=t.gameTargets.find((function(e){return!1===e.destroyed&&e.x===d.x&&e.y===d.y}));if(void 0===h||this.pathIndex===this.path.length-1){console.log(h,this.pathIndex,this.path.length,this.path);var p=this.path[this.path.length-1];return t.gameTargets=t.gameTargets.map((function(e){return e.x===p.x&&e.y===p.y&&(e.destroyed=!0),e})),0===t.gameTargets.length?(console.log("game over",t.gameTargets),t.status="lost",!1):(this.pathIndex=0,this.path=(0,f.dijkstraWithCaching)(t.gameGrid,this.position,t.gameTargets.find((function(e){return!1===e.destroyed}))),!0)}var g=this.path[this.pathIndex+1],y={x:g.x-this.position.x,y:g.y-this.position.y},v=Math.sqrt(y.x*y.x+y.y*y.y);return y.x/=v,y.y/=v,this.position.x+=y.x*this.speed,this.position.y+=y.y*this.speed,Math.hypot(this.position.x-g.x,this.position.y-g.y)<this.speed&&(this.position=o({},g),this.pathIndex++),!0},t}(i.default);t.default=d},244:function(e,t,r){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=r(881),o=r(570),i=r(556),l=r(891),s=r(7),c=r(629),u=r(956),f=r(756),d=r(981);t.default=function(){console.log("MouseEvents"),c.default.addEventListener("mousemove",(function(e){var t,r,a=(0,s.getGameState)(),n=c.default.getBoundingClientRect(),o=null!==(t=e.clientX-n.left)&&void 0!==t?t:0,i=null!==(r=e.clientY-n.top)&&void 0!==r?r:0;a.mousePosition={x:o,y:i}}),{passive:!0});var e=0,t=0;c.default.addEventListener("touchstart",(function(r){e=r.touches[0].clientX,t=r.touches[0].clientY,r.preventDefault()}),{passive:!0}),c.default.addEventListener("touchmove",(function(r){var a=r.touches[0].clientX,n=r.touches[0].clientY,o=a-e,i=n-t;e=a,t=n,(0,u.scrollGridX)(-o),(0,u.scrollGridY)(i)}),{passive:!0}),c.default.addEventListener("touchend",(function(e){e.preventDefault()}),{passive:!0}),c.default.addEventListener("click",(function(e){var t=(0,s.getGameState)();if(t.gameDisplayState===l.eGameDisplayState.GAME){console.log("Mouse click in game");var r=c.default.getBoundingClientRect(),u=e.clientX-r.left,h=e.clientY-r.top;if(h<(0,f.default)())console.log("Clicked on the header");else{var p=(0,d.GameFooterHeight)();if(h>window.innerHeight-p)(0,d.handleFooterClick)(t,{x:u,y:h});else{var g=(0,o.getGameGridPosition)(u,h);if(g)if((0,o.isSpaceAvailable)(g.x,g.y,t.selectedTurret.w,t.selectedTurret.h,t)){var y=t.selectedTurret;if(t.energy<y.cost)return t.alerts.push(new n.default({message:"Not enough energy to place a turret",seconds:5})),void console.warn("Not enough energy to place a turret");t.energy-=y.cost;var v=new i.Turret(a(a({},y),{x:g.x,y:g.y,gameState:t}));t.turrets.push(v)}else if(3===t.gameGrid[g.y][g.x]){console.log("Turret already placed here");var m=t.turrets.find((function(e){return g.x>=e.x&&g.x<e.x+e.w&&g.y>=e.y&&g.y<e.y+e.h}));m&&m.upgrade()}else console.warn("Cell is not free",u/t.cellSize,h/t.cellSize,t);else console.error("Out of bounds",u,h)}}}else console.log("Mouse click out of game")}))}},60:function(e,t,r){var a,n=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(336),i=r(740),l=r(130),s=function(e){function t(t){var r=t.start,a=t.control,n=t.callback,o=t.end,s=t.gameState,c=t.fillStyle,u=void 0===c?"rgb(39,192,42)":c,f=e.call(this,{x:r.x,y:r.y,gameState:s})||this;f.currentPosition={x:f.x,y:f.y},f.endPosition={x:o.x,y:o.y},f.speed=.5+2*Math.random(),f.size=3+2*Math.random();var d=(0,i.default)();return f.arcPoints=(0,l.default)(f.currentPosition,a,f.endPosition,d<30?50:100),f.currentPointIndex=0,f.fillStyle=u,f.callback=n,f}return n(t,e),t.prototype.draw=function(){var e=this.gameState.context;e.beginPath(),e.arc(this.currentPosition.x-this.gameState.offsetX,this.currentPosition.y-this.gameState.offsetY,this.size,0,2*Math.PI),e.fillStyle=this.fillStyle,e.fill()},t.prototype.move=function(){var e;return this.currentPointIndex+=this.speed,this.currentPointIndex<this.arcPoints.length?(this.currentPosition=this.arcPoints[Math.floor(this.currentPointIndex)],!0):(null===(e=this.callback)||void 0===e||e.call(this,this.gameState),!1)},t}(o.default);t.default=s},570:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isGridSpaceTakenWithTurret=t.isSpaceAvailable=t.getGameGridPosition=void 0;var a=r(7),n=r(756),o=r(498);t.default=function(e,t,r){void 0===r&&(r=null),this.position=e,this.distance=t,this.parent=r},t.getGameGridPosition=function(e,t){var r=(0,a.getGameState)(),i=(0,n.default)(),l=(0,o.default)(r);t-=i+r.offsetY,e+=r.offsetX;var s=Math.floor(e/l),c=Math.floor(t/l);if(void 0!==r.gameGrid[c]&&void 0!==r.gameGrid[c][s])return{x:s,y:c}},t.isSpaceAvailable=function(e,t,r,n,o){void 0===o&&(o=(0,a.getGameState)());for(var i=0;i<n;i++)for(var l=0;l<r;l++){var s=e+l,c=t+i;if(c>=o.gameGrid.length||s>=o.gameGrid[0].length)return!1;if(2!==o.gameGrid[c][s])return!1}return!0},t.isGridSpaceTakenWithTurret=function(e,t,r){return void 0===r&&(r=(0,a.getGameState)()),3===r.gameGrid[t][e]}},67:function(e,t,r){var a,n=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=t.x,a=t.y,n=t.target,o=t.speed,i=t.damage,l=t.fillStyle,s=void 0===l?"rgba(185,66,66,0.82)":l,c=e.call(this,{x:r,y:a,gameState:n.gameState})||this;return c.isDestroyed=!1,c.cellSize=0,c.x=r,c.y=a,c.target=n,c.speed=o,c.damage=i,n.damageDoneAndQueued+=i,c.fillStyle=s,c}return n(t,e),t.prototype.draw=function(){var e=this.gameState.context;e.beginPath(),e.arc(this.x*this.cellSize,this.y*this.cellSize,5,0,2*Math.PI),e.fillStyle=this.fillStyle,e.fill()},t.prototype.move=function(){if(this.isDestroyed||void 0===this.target||this.target.isDestroyed)return!1;this.cellSize=this.gameState.cellSize;var e=this.target.position.x-this.x,t=this.target.position.y-this.y,r=Math.sqrt(e*e+t*t);return this.x+=e/r*this.speed,this.y+=t/r*this.speed,Math.abs(this.x-this.target.position.x)<this.speed&&Math.abs(this.y-this.target.position.y)<this.speed&&this.hitTarget(),!0},t.prototype.hitTarget=function(){this.target.health-=this.damage,this.isDestroyed=!0},t}(r(336).default);t.default=o},956:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scrollGridY=t.gameBodyTotalYScroll=t.scrollGridX=void 0;var a=r(498),n=r(7);t.scrollGridX=function(e){var t=(0,n.getGameState)();t.offsetX+=e,t.offsetX=Math.max(0,Math.min(t.offsetX,t.cellSize*t.gameGrid[0].length-window.innerWidth))},t.gameBodyTotalYScroll=function(e){return e.cellSize*e.gameGrid.length-(0,a.GameBodyHeight)()},t.scrollGridY=function(e){var r=(0,n.getGameState)();r.offsetY+=e;var a=(0,t.gameBodyTotalYScroll)(r);a<r.offsetY?r.offsetY=a:r.offsetY=Math.min(0,Math.max(r.offsetY,-a))}},493:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(789),n=function(){function e(e){var t=e.interval,r=e.amount,a=e.health,n=e.speed;this.interval=t,this.counter=0,this.amount=r,this.health=a,this.speed=n}return e.prototype.update=function(e){if(0===this.amount)return!1;if(this.counter>=this.interval){this.counter=0,this.amount--;var t=e.spawnLocations[Math.floor(Math.random()*e.spawnLocations.length)];if(!t)return console.error("No spawn location found",e.spawnLocations),!1;e.monsters.push(new a.default({health:this.health,x:t.x,y:t.y,speed:this.speed,gameState:e}))}else this.counter++;return!0},e}();t.default=n},761:function(e,t,r){var a,n=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.createOrbGradient=t.timeBonusParticleBurst=void 0;var o=r(336),i=r(60),l=r(535),s=r(498);function c(e,t){var r=(0,l.energyCirclePosition)(),a=(0,l.scoreCirclePosition)(),n=(0,s.default)(t),o=Math.max(50,2*t.level);e.y+=9*n;for(var c=0;c<o;c++)t.particles.push(new i.default({fillStyle:"rgb(39,192,42)",callback:function(){t.energy+=10*t.level},start:e,control:c%2?{x:e.x+(20*Math.random()-10)*n,y:r.y+(10*Math.random()-5)*n+20*n}:{x:r.x+(20*Math.random()-10)*n,y:e.y+(10*Math.random()-5)*n+20*n},end:r})),t.particles.push(new i.default({fillStyle:"rgb(0,207,250)",callback:function(){t.score+=10*t.level},start:e,control:c%2?{x:e.x+(20*Math.random()-10)*n,y:e.y+(10*Math.random()-5)*n+20*n}:{x:a.x+(20*Math.random()-10)*n,y:e.y+(10*Math.random()-5)*n+20*n},end:a}))}function u(e,t,r,a,n,o){void 0===n&&(n="rgb(172,39,192)"),void 0===o&&(o="rgba(39, 66, 66, .8)");var i=e.createRadialGradient(t,r,.5*a,t,r,a);return i.addColorStop(0,n),i.addColorStop(1,o),i}t.timeBonusParticleBurst=c,t.createOrbGradient=u;var f=function(e){function t(t){var r=t.x,a=t.y,n=t.gameState,o=e.call(this,{gameState:n,x:r,y:a})||this;return o.levelBonusGiven=-1,o.destroyed=!1,o.key=0,o.key=n.gameTargets.length,o}return n(t,e),t.prototype.move=function(){return!0},t.prototype.draw=function(){var e=this.gameState,t=e.context,r=e.cellSize,a=4*r,n=Date.now(),o=this.x*r+r/2,i=this.y*r+r/2;t.fillStyle=u(t,o,i,a/2,"rgb(172,39,192)","rgb(100,225,100)"),t.beginPath(),t.arc(o,i,a/2,0,2*Math.PI),t.fill(),this.destroyed||(i+=10*(this.key%2?Math.sin(.002*n):Math.cos(.002*n)),t.fillStyle=u(t,o,i-2*r,a),t.beginPath(),t.arc(o,i-2*r,a,0,2*Math.PI),t.fill(),this.levelBonusGiven<e.level&&(this.levelBonusGiven++,c({x:o,y:i},e)))},t}(o.default);t.default=f},556:function(e,t,r){var a,n=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.Turret=void 0;var i=r(999),l=r(881),s=r(336),c=r(535),u=r(67),f=r(664),d=function(e){function t(t){var r=this,a=t.x,n=t.y,i=t.gameState,l=o(t,["x","y","gameState"]);(r=e.call(this,{x:a,y:n,gameState:i})||this).level=1,r.timer=0,r.key=0,r.x=a,r.y=n,r.cx=a+l.w/2,r.cy=n+l.h/2,r.w=l.w,r.h=l.h,r.targetType=f.eTurretTargetType.CLOSEST,r.cooldown=l.cooldown,r.fillStyle=l.fillStyle,r.range=l.range,r.damage=l.damage,r.speed=l.speed,r.upgrades=l.upgrades,r.cost=l.cost,r.key=i.turrets.length;for(var s=0;s<r.h;s++)for(var c=0;c<r.w;c++){var u=a+c,d=n+s;d>=0&&d<i.gameGrid.length&&u>=0&&u<i.gameGrid[d].length&&(i.gameGrid[d][u]=3)}return r}return n(t,e),t.prototype.switchXY=function(){e.prototype.switchXY.call(this),this.cx=this.x+this.w/2,this.cy=this.y+this.h/2},t.prototype.upgrade=function(){if(this.level>this.upgrades.length)console.log("Turret is already at max level",this);else{var e=this.upgrades[this.level-1];this.gameState.energy<this.upgrades[this.level-1].cost?this.gameState.alerts.push(new l.default({message:"Not enough energy to upgrade turret",seconds:4})):(this.range=e.range,this.damage=e.damage,this.cooldown=e.cooldown,this.speed=e.speed,this.level++)}},t.prototype.normalize=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/t,y:e.y/t}},t.prototype.findTarget=function(e){var t=null,r=this.range;this.targetType===f.eTurretTargetType.NEWEST&&(e=e.reverse());for(var a=0,n=e;a<n.length;a++){var o=n[a];if(!(o.startingHealth-o.damageDoneAndQueued<=0)){var i=this.cx-o.position.x,l=this.cy-o.position.y,s=Math.sqrt(i*i+l*l);if(s<r)switch(t=o,this.targetType){case f.eTurretTargetType.CLOSEST:r=s;break;default:case f.eTurretTargetType.NEWEST:case f.eTurretTargetType.OLDEST:return t}}}return t},t.prototype.shoot=function(e,t){if(this.timer>=this.cooldown){var r=new u.default({startX:0,startY:0,x:this.cx,y:this.cy,target:e,speed:this.speed,damage:this.damage});t.projectiles.push(r),this.timer=0}},t.prototype.move=function(){var e=this.gameState;this.cooldown>this.timer&&this.timer++;var t=this.findTarget(e.monsters);return t&&this.shoot(t,e),!0},t.prototype.draw=function(){var e=this.gameState.context,t=this.gameState.cellSize,r=this.cx*t-t/2,a=this.cy*t-t/2,n=t,o=.6*t;e.fillStyle=this.fillStyle,e.beginPath(),e.ellipse(r+n/2,a+o,n/2,o/2,0,0,2*Math.PI),e.fill(),e.fillStyle=this.fillStyle,e.fillRect(r,a,n,o)},t.prototype.showLevelColor=function(){var e,t,r,a=this,n=this.gameState.context,o=this.gameState.cellSize,l=o,s=this.cx*o-o/2,u=this.cy*o-o/2,f=(0,c.elapsedTime)(this.gameState,!1),d=this.level>this.upgrades.length?1:(e=f,t=this.key,r=e*(2*Math.PI/5),(Math.sin(r+t)+1)/2);n.fillStyle=(0,i.default)(function(){switch(a.level){case 1:return"rgba(0,0,225)";case 2:return"rgb(64,225,0)";case 3:return"rgb(199,19,19)";case 4:return"rgb(255,255,255)";default:return"rgb(170,0,96)"}}(),d);var h=.3*o;n.beginPath(),n.arc(s+l/2,u,h,0,2*Math.PI),n.fill()},t}(s.default);t.Turret=d},664:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Turret6=t.Turret5=t.Turret4=t.Turret3=t.Turret2=t.Turret1=t.eTurretTargetDimensionsType=t.eTurretTargetDimensionsLocation=t.eTurretTargetType=void 0;var a,n,o,i=r(629),l=r(981);!function(e){e[e.OLDEST=0]="OLDEST",e[e.NEWEST=1]="NEWEST",e[e.CLOSEST=2]="CLOSEST"}(a||(t.eTurretTargetType=a={})),function(e){e[e.GAME=0]="GAME",e[e.FOOTER=1]="FOOTER"}(n||(t.eTurretTargetDimensionsLocation=n={})),o||(t.eTurretTargetDimensionsType=o={}),t.Turret1=function(e){var t=e===n.GAME;return{x:0,y:(0,l.footerLevelBarHeight)(),w:t?1:i.default.width/6,h:t?1:(0,l.turretSectionHeight)(),fillStyle:"rgba(0,0,0,1)",range:8,damage:50,cooldown:9,cost:500,speed:.5,upgrades:[{cost:1e4,range:12,damage:500,cooldown:8,speed:1},{cost:1e5,range:15,damage:2e3,cooldown:7,speed:2}]}},t.Turret2=function(e){var t=i.default.width/6,r=e===n.GAME;return{x:t,y:(0,l.footerLevelBarHeight)(),w:r?2:t,h:r?2:(0,l.turretSectionHeight)(),fillStyle:"rgb(211,5,5)",range:12,damage:300,cooldown:7,cost:5e4,speed:.75,upgrades:[{cost:600,range:14,damage:200,cooldown:6,speed:1},{cost:1200,range:16,damage:400,cooldown:5,speed:2}]}},t.Turret3=function(e){var t=i.default.width/6,r=e===n.GAME;return{x:t+t,y:(0,l.footerLevelBarHeight)(),w:r?3:t,h:r?2:(0,l.turretSectionHeight)(),fillStyle:"rgb(192,172,39)",range:15,damage:450,cooldown:8,cost:1e5,speed:1,upgrades:[{cost:2e3,range:17,damage:400,cooldown:7,speed:1},{cost:4e3,range:19,damage:800,cooldown:6,speed:2}]}},t.Turret4=function(e){var t=i.default.width/6,r=e===n.GAME;return{x:t+2*t,y:(0,l.footerLevelBarHeight)(),w:r?3:t,h:r?3:(0,l.turretSectionHeight)(),fillStyle:"rgb(157,156,156)",range:17,damage:1e3,cooldown:20,cost:8e5,speed:2,upgrades:[{cost:4e9,range:20,damage:2e3,cooldown:15,speed:1},{cost:4e10,range:25,damage:4e3,cooldown:10,speed:2}]}},t.Turret5=function(e){var t=i.default.width/6,r=e===n.GAME;return{x:t+3*t,y:(0,l.footerLevelBarHeight)(),w:r?4:t,h:r?4:(0,l.turretSectionHeight)(),fillStyle:"rgb(0,207,250)",range:22,damage:2e3,cooldown:3,cost:15e5,speed:1,upgrades:[{cost:8e4,range:25,damage:4e3,cooldown:2,speed:1},{cost:16e4,range:30,damage:8e3,cooldown:1,speed:2}]}},t.Turret6=function(e){var t=i.default.width/6,r=e===n.GAME;return{x:t+4*t,y:(0,l.footerLevelBarHeight)(),w:r?5:t,h:r?5:(0,l.turretSectionHeight)(),fillStyle:"rgb(232,122,54)",range:30,damage:1e6,cooldown:0,cost:4e6,speed:1,upgrades:[{cost:6e14,range:35,damage:6e6,cooldown:0,speed:5},{cost:6e16,range:40,damage:8e6,cooldown:0,speed:10}]}}},316:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(740),n=r(881);t.default=function(e){void 0!==e.tutorial&&Object.keys(e.tutorial).forEach((function(t){if(!0!==e.tutorial[t])switch(t){case"welcome":e.alerts.push(new n.default({message:"Welcome to Game Defence! Click on the grid to place a turret. Survive 100 waves to win!",seconds:15,fillStyle:"rgb(0, 255, 0)",gameState:e})),e.tutorial.welcome=!0;break;case"spaceBar":if(e.alerts.length>0||e.elapsedTimeSeconds<10||(0,a.default)()<30)return;e.alerts.push(new n.default({message:"Pressing the space bar will spawn a new wave early and help multiply your score!",seconds:20,fillStyle:"rgb(137,33,189)",gameState:e})),e.tutorial.spaceBar=!0}}))}},819:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r,a,n=new Image;n.src="data:image/svg+xml;base64,"+btoa((void 0===r&&(r="rgb(134,30,30)"),void 0===a&&(a="rgb(0,191,255)"),'\n<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">\n      <stop offset="0%" style="stop-color: '.concat(r,';stop-opacity:1" />\n      <stop offset="100%" style="stop-color: ').concat(a,';stop-opacity:1" />\n    </linearGradient>\n  </defs>\n  <polygon points="20,0 40,20 20,40 0,20" fill="url(#grad1)" stroke="blue" stroke-width="2"/>\n  <path d="M 0 20 L 20 0 L 40 20 L 20 40 Z" fill="none" stroke="black" stroke-width="1" opacity="0.5"/>\n</svg>'))),t.default=n},607:function(e,t,r){var a=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))((function(n,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function l(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,a,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(r=1,a&&(n=2&l[0]?a.return:l[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;switch(a=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){i.label=l[1];break}if(6===l[0]&&i.label<n[1]){i.label=n[1],n=l;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(l);break}n[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],a=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),i=1e3/35,l=0;console.log("GameDefense",o.default),requestAnimationFrame((function e(t){return a(this,void 0,void 0,(function(){var r,a;return n(this,(function(n){switch(n.label){case 0:if(!((r=t-(l=l||t))>i))return[3,4];l=t-r%i,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,o.default)()];case 2:return n.sent(),[3,4];case 3:return a=n.sent(),console.error(a),[2];case 4:return requestAnimationFrame(e),[2]}}))}))}))},623:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=r(498),n=r(7),o=r(570);t.default=function(e,t){var r=(0,n.getGameState)(),i=r.selectedTurret,l=r.turrets,s=r.energy,c=(0,o.getGameGridPosition)(t.x,t.y);if(c){var u=(0,a.default)(r),f=function(t,r,a,n){e.beginPath(),e.arc(t,r,a,0,2*Math.PI),e.fillStyle=n,e.fill()},d=function(t,r,a,n,o){e.strokeStyle=o,e.strokeRect(t*u,r*u,a*u,n*u)},h=c.x,p=c.y;if((0,o.isSpaceAvailable)(h,p,i.w,i.h,(0,n.getGameState)())){var g=i.range*u;f(h*u+i.w*u/2,p*u+i.h*u/2,g,s<i.cost?"rgba(255, 0, 0, 0.15)":"rgba(0, 255, 0, 0.15)"),d(h,p,i.w,i.h,i.fillStyle)}else if((0,o.isGridSpaceTakenWithTurret)(h,p,(0,n.getGameState)())){var y=l.find((function(e){return h>=e.x&&h<e.x+e.w&&p>=e.y&&p<e.y+e.h}));if(y){if(f(y.cx*u,y.cy*u,y.range*u,"rgba(0,255,0,0.20)"),y.level<=y.upgrades.length){var v=y.upgrades[y.level-1].range*u;f(y.cx*u,y.cy*u,v,s<y.upgrades[y.level-1].cost?"rgba(255, 0, 0, 0.15)":"rgba(0, 255, 0, 0.15)")}d(h,p,i.w,i.h,i.fillStyle),r.hoveredTurret=y}else r.hoveredTurret=null,console.error("This should not be possible")}else r.hoveredTurret=null}}},999:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===t&&(t=0);var r=e.match(/^rgb(a)?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(,\s*([0-9\.]+))?\)$/);if(r){var a=r[1],n=r[2],o=r[3],i=r[4],l=r[6]?parseInt(r[6]):t;return a&&void 0!==l||(l=t),"rgba(".concat(n,", ").concat(o,", ").concat(i,", ").concat(l,")")}if(r=e.match(/^#([0-9a-f]{3,8})$/i)){var s=r[1],c=void 0,u=void 0,f=void 0,d=255;3===s.length?(c=parseInt(s.charAt(0)+s.charAt(0),16),u=parseInt(s.charAt(1)+s.charAt(1),16),f=parseInt(s.charAt(2)+s.charAt(2),16)):4===s.length?(c=parseInt(s.charAt(0)+s.charAt(0),16),u=parseInt(s.charAt(1)+s.charAt(1),16),f=parseInt(s.charAt(2)+s.charAt(2),16),d=parseInt(s.charAt(3)+s.charAt(3),16)):6===s.length?(c=parseInt(s.substring(0,2),16),u=parseInt(s.substring(2,4),16),f=parseInt(s.substring(4,6),16)):8===s.length&&(c=parseInt(s.substring(0,2),16),u=parseInt(s.substring(2,4),16),f=parseInt(s.substring(4,6),16),d=parseInt(s.substring(6,8),16));var h=parseInt((d/255).toFixed(2));return 1===h&&(h=t),"rgba(".concat(c,", ").concat(u,", ").concat(f,", ").concat(h,")")}return console.error("Invalid color format"),e}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateDimensions=t.rotatePoint90Clockwise=t.rotatePoint90CounterClockwise=void 0;var a=r(498),n=r(626),o=r(956);function i(e,t,r){return{x:r,y:e.gameGrid.length-1-t}}function l(e,t,r){return{x:e.gameGrid[0].length-1-r,y:t}}function s(e){var t=e.switchXY?i:l;e.spawnLocations=e.spawnLocations.map((function(r){var a=t(e,r.x,r.y),n=a.x,o=a.y;return r.x=n,r.y=o,r})),e.gameTargets.forEach((function(e){return e.switchXY()})),e.turrets.forEach((function(e){return e.switchXY()})),e.monsters.forEach((function(e){return e.switchXY()})),e.projectiles.forEach((function(e){return e.switchXY()}))}t.rotatePoint90CounterClockwise=i,t.rotatePoint90Clockwise=l,t.updateDimensions=function(e){if(e.context.canvas.height=window.innerHeight,e.context.canvas.width=window.innerWidth,e.context.canvas.height>e.context.canvas.width){if(!1===e.switchXY)return e.switchXY=!0,e.gameGrid=(0,n.rotateMatrix90CounterClockwise)(e.gameGrid),s(e),e.offsetX=0,(0,a.default)(e),e.offsetY=-(0,o.gameBodyTotalYScroll)(e),void console.log("switchXY scroll 2 bottom",e,(0,o.gameBodyTotalYScroll)(e))}else if(e.switchXY)return e.offsetY=0,e.offsetX=0,e.switchXY=!1,e.gameGrid=(0,n.rotateMatrix90Clockwise)(e.gameGrid),s(e),void(0,a.default)(e);(0,a.default)(e)}}},t={};!function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,r),o.exports}(607)})();